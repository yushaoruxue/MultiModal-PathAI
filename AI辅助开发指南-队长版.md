# AI辅助开发指南 - 队长版

## 前言

作为项目队长，你可以充分利用AI工具（如Cursor、GitHub Copilot、Claude等）来加速开发、解决技术难题、提高代码质量。本指南将告诉你如何高效使用AI来完成你的各项任务。

---

## 一、如何使用AI完成系统架构设计（第1-2周）

### 1.1 系统架构设计

**你可以这样提问AI：**

```
我需要设计一个AI赋能职教视频个性化教学系统的架构，包含：
- 前端层（学生端、教师端）
- 后端服务层（业务逻辑、行为采集、路径生成）
- AI引擎层（多模态解析、难点识别、资源生成）
- 数据存储层（关系数据库、文件存储、缓存）

请帮我设计：
1. 系统分层架构图
2. 各层之间的通信方式
3. 技术选型建议
4. 关键组件的职责划分
```

**AI可以帮你：**
- 生成架构图（ASCII或Mermaid格式）
- 提供技术栈选型建议
- 设计模块间的接口规范
- 识别潜在的技术风险点

### 1.2 数据库ER图设计

**你可以这样提问AI：**

```
根据以下需求，帮我设计数据库ER图：

核心实体：
- User（用户：学生/教师/管理员）
- Video（视频）
- KnowledgePoint（知识点）
- WatchEvent（观看事件）
- Mastery（掌握状态）
- Resource（补偿资源）
- Exercise（练习题）
- LearningPath（学习路径）

关系要求：
- 一个视频有多个知识点
- 一个知识点可以有多个补偿资源
- 一个学生可以有多个观看事件
- 一个学生对每个知识点有一个掌握状态
- 知识点之间有依赖关系

请生成：
1. ER图（Mermaid格式）
2. 表结构设计（SQL）
3. 索引策略建议
```

**AI可以帮你：**
- 生成完整的ER图
- 设计表结构和字段
- 设计外键关系
- 优化索引策略

### 1.3 API接口规范设计

**你可以这样提问AI：**

```
我需要设计RESTful API接口规范，包括：

1. 视频相关接口
   - POST /api/videos/upload - 上传视频
   - GET /api/videos - 获取视频列表
   - GET /api/videos/{id}/knowledge-points - 获取知识点

2. 学习行为接口
   - POST /api/watch-events - 上报观看事件
   - GET /api/users/{id}/difficult-points - 获取疑难点

3. 补偿资源接口
   - GET /api/knowledge-points/{id}/resources - 获取补偿资源
   - POST /api/exercises/{id}/submit - 提交练习

请帮我：
1. 设计统一的响应格式
2. 设计错误码规范
3. 设计接口文档模板（OpenAPI/Swagger格式）
4. 设计认证授权方案
```

---

## 二、如何使用AI完成核心算法开发（第3-8周）

### 2.1 知识点切分算法

**你可以这样提问AI：**

```
我需要实现一个知识点自动切分算法，输入是：
- 视频的ASR转写文本（带时间戳）
- OCR识别的PPT文字（带时间戳）
- 视频字幕文本

输出是：
- 知识点列表，每个知识点包含：
  - 名称
  - 起止时间
  - 关键词
  - 摘要

算法要求：
1. 基于文本语义相似度进行切分
2. 识别话题转换点
3. 每个知识点时长控制在2-10分钟
4. 使用Python实现

请帮我：
1. 设计算法流程
2. 提供代码实现
3. 提供测试用例
```

**AI可以帮你：**
- 设计算法逻辑
- 编写Python代码
- 提供算法优化建议
- 生成测试数据

### 2.2 难点识别算法

**你可以这样提问AI：**

```
我需要实现一个难点识别算法，输入是：
- 学生的观看行为数据（回放次数、暂停次数、停留时长等）
- 知识点的基本信息

算法规则：
1. 回放次数 >= T1（如2次）→ 触发疑难点
2. 暂停次数 >= T2（如3次）→ 触发疑难点
3. 停留时长/视频段时长 >= T3（如3倍）→ 触发疑难点

困难度分数计算：
Di = w1 × (回放次数/T1) + w2 × (暂停次数/T2) + w3 × (停留时长比/T3)

请帮我：
1. 用Python实现难点判定函数
2. 实现困难度分数计算
3. 实现公共难点识别（多人反复观看同一片段）
4. 提供可配置的阈值参数
```

**AI可以帮你：**
- 实现算法代码
- 优化计算逻辑
- 提供配置管理方案
- 生成单元测试

### 2.3 学习路径生成算法

**你可以这样提问AI：**

```
我需要实现一个个性化学习路径生成算法，要求：

输入：
- 学生的知识点掌握状态（未学/学习中/疑难/已掌握）
- 知识点之间的依赖关系
- 学生的疑难点列表

输出：
- 个性化学习路径序列
- 下一步学习建议

算法逻辑：
1. 跳过已掌握的知识点
2. 优先学习前置知识已掌握的知识点
3. 对疑难点优先推送补偿资源
4. 动态调整路径顺序

请帮我：
1. 设计路径生成算法（可以用图算法）
2. 用Python实现
3. 处理循环依赖问题
4. 提供路径优化策略
```

**AI可以帮你：**
- 设计图算法（如拓扑排序、最短路径）
- 实现路径生成逻辑
- 处理边界情况
- 优化算法性能

### 2.4 补偿资源推送策略

**你可以这样提问AI：**

```
我需要实现补偿资源推送策略，要求：

触发条件：
- 知识点被标记为疑难
- 必须在5分钟内推送

推送策略：
1. 首次卡顿：推送知识卡片 + 诊断练习
2. 二次卡顿（练习正确率<80%）：追加例题讲解
3. 三次卡顿：推送1对1答疑入口

反馈机制：
- 练习正确率 >= 80% → 标记"已掌握"
- 练习正确率 < 80% → 升级干预

请帮我：
1. 设计推送策略的状态机
2. 实现推送逻辑代码
3. 实现反馈处理逻辑
4. 设计避免干预疲劳的机制
```

---

## 三、如何使用AI进行技术攻关（贯穿全程）

### 3.1 多模态大模型API集成

**你可以这样提问AI：**

```
我需要集成多模态大模型API（如GPT-4V、Claude、文心一言），用于：
1. 视频内容理解
2. 知识点摘要生成
3. 补偿资源生成

请帮我：
1. 对比各API的优缺点
2. 提供API调用示例代码
3. 设计统一的接口封装
4. 处理API限流和错误重试
5. 优化API调用成本（缓存、批量处理）
```

### 3.2 视频生成技术方案

**你可以这样提问AI：**

```
我需要实现补偿微视频生成，可选方案：
1. Sora-like模型生成
2. CogVideo生成
3. 图文→视频（Runway、Luma、Kling）
4. 原视频智能剪辑

请帮我：
1. 对比各方案的可行性、成本、质量
2. 提供MVP版本的最简方案
3. 提供代码实现示例
4. 设计视频质量评估机制
```

### 3.3 性能优化

**你可以这样提问AI：**

```
我的系统存在性能瓶颈：
1. 视频解析耗时过长（>24小时）
2. 补偿推送响应慢（>5分钟）
3. API接口响应慢（>500ms）
4. 数据库查询慢

请帮我：
1. 分析性能瓶颈原因
2. 提供优化方案（缓存、异步、索引等）
3. 提供代码优化示例
4. 设计性能监控方案
```

---

## 四、如何使用AI进行代码开发

### 4.1 代码生成

**你可以这样提问AI：**

```
请帮我用Python实现一个知识点切分服务，要求：

1. 类名：KnowledgePointSegmenter
2. 方法：
   - segment(video_id, asr_text, ocr_text) -> List[KnowledgePoint]
   - calculate_similarity(text1, text2) -> float
   - extract_keywords(text) -> List[str]
   - generate_summary(text) -> str

3. 使用依赖：
   - jieba（中文分词）
   - sentence-transformers（语义相似度）
   - 数据库ORM（SQLAlchemy）

4. 代码要求：
   - 添加类型注解
   - 添加文档字符串
   - 添加错误处理
   - 添加日志记录

请生成完整的代码，包括：
- 类定义
- 方法实现
- 单元测试示例
```

### 4.2 代码审查

**你可以这样提问AI：**

```
请审查以下代码，找出：
1. 潜在的bug
2. 性能问题
3. 代码规范问题
4. 安全性问题
5. 可优化点

[粘贴你的代码]
```

### 4.3 代码重构

**你可以这样提问AI：**

```
我的代码存在以下问题：
1. 函数过长（>100行）
2. 重复代码多
3. 硬编码配置
4. 缺少错误处理

请帮我重构代码，要求：
1. 提取公共函数
2. 使用配置文件
3. 添加异常处理
4. 提高代码可读性

[粘贴需要重构的代码]
```

### 4.4 单元测试

**你可以这样提问AI：**

```
请为以下函数编写单元测试，要求：
1. 覆盖所有分支
2. 包含边界情况
3. 使用pytest框架
4. 使用mock处理外部依赖

函数：
[粘贴函数代码]
```

---

## 五、如何使用AI进行问题排查

### 5.1 调试代码

**你可以这样提问AI：**

```
我的代码出现了以下错误：
[粘贴错误信息]

代码：
[粘贴相关代码]

请帮我：
1. 分析错误原因
2. 提供修复方案
3. 提供修复后的代码
```

### 5.2 性能问题排查

**你可以这样提问AI：**

```
我的系统出现了性能问题：
- 现象：视频解析耗时从2小时增加到8小时
- 相关代码：[粘贴代码]
- 日志：[粘贴相关日志]

请帮我：
1. 分析性能瓶颈
2. 提供优化建议
3. 提供优化后的代码
```

### 5.3 算法优化

**你可以这样提问AI：**

```
我的难点识别算法准确率只有60%，目标是80%。

当前算法：
[粘贴算法代码]

测试数据：
[描述测试数据特征]

请帮我：
1. 分析准确率低的原因
2. 提供优化方案
3. 提供优化后的代码
```

---

## 六、如何使用AI编写文档

### 6.1 技术文档

**你可以这样提问AI：**

```
请帮我编写知识点切分算法的技术文档，包括：
1. 算法原理
2. 输入输出说明
3. 参数配置
4. 使用示例
5. 性能指标
6. 注意事项

代码：[粘贴核心代码]
```

### 6.2 API文档

**你可以这样提问AI：**

```
请帮我生成OpenAPI 3.0格式的API文档，接口包括：
1. POST /api/videos/upload
2. GET /api/videos/{id}/knowledge-points
3. POST /api/watch-events

要求：
- 完整的请求/响应示例
- 错误码说明
- 认证方式说明
```

### 6.3 项目文档

**你可以这样提问AI：**

```
请帮我编写项目README文档，包括：
1. 项目简介
2. 技术栈
3. 快速开始
4. 项目结构
5. 开发指南
6. 部署说明

项目信息：[描述项目]
```

---

## 七、AI使用最佳实践

### 7.1 提问技巧

**好的提问方式：**
✅ 提供清晰的上下文和需求
✅ 明确期望的输出格式
✅ 提供示例代码或数据
✅ 分步骤提问复杂问题

**不好的提问方式：**
❌ 问题过于宽泛（"帮我写个系统"）
❌ 缺少上下文（直接问"这个代码有问题吗"）
❌ 一次问太多问题
❌ 不提供错误信息或代码

### 7.2 代码审查流程

1. **先让AI生成代码**
2. **自己理解代码逻辑**
3. **让AI审查代码**（找出问题）
4. **根据审查结果优化**
5. **编写单元测试**
6. **集成到项目中**

### 7.3 迭代优化

**不要期望AI一次生成完美代码，应该：**
1. 先让AI生成基础版本
2. 测试运行，发现问题
3. 让AI优化特定问题
4. 重复迭代，直到满意

---

## 八、具体任务执行示例

### 示例1：设计知识点切分算法

**第一步：需求分析**
```
我需要实现知识点切分算法，输入是ASR文本和OCR文本，输出是知识点列表。
请帮我设计算法流程。
```

**第二步：代码实现**
```
根据刚才设计的流程，请用Python实现知识点切分算法，要求：
- 使用sentence-transformers计算语义相似度
- 使用jieba进行中文分词
- 每个知识点时长2-10分钟
- 返回JSON格式的知识点列表
```

**第三步：测试优化**
```
请为这个算法编写单元测试，并测试以下场景：
1. 正常视频（30分钟，应该切分为5-10个知识点）
2. 短视频（5分钟，应该切分为1-2个知识点）
3. 边界情况（无文本、文本过短）
```

### 示例2：实现难点识别服务

**第一步：设计接口**
```
我需要实现一个难点识别服务，输入是学生行为数据，输出是疑难点列表。
请帮我设计RESTful API接口。
```

**第二步：实现算法**
```
请用Python实现难点判定算法，包括：
1. 困难度分数计算
2. 公共难点识别
3. 个体弱项诊断
```

**第三步：集成到后端**
```
请帮我将这个算法集成到FastAPI后端，包括：
1. 创建API路由
2. 添加数据验证
3. 添加错误处理
4. 添加日志记录
```

---

## 九、常用AI提示词模板

### 9.1 代码生成模板

```
请用[语言]实现一个[功能描述]，要求：
1. [要求1]
2. [要求2]
3. [要求3]

技术栈：
- [框架/库1]
- [框架/库2]

代码要求：
- 添加类型注解
- 添加文档字符串
- 添加错误处理
- 遵循[代码规范]

请生成完整代码，包括：
- [组件1]
- [组件2]
- 单元测试示例
```

### 9.2 代码审查模板

```
请审查以下代码，重点关注：
1. 潜在的bug和错误
2. 性能问题
3. 代码规范
4. 安全性问题
5. 可维护性

代码：
[粘贴代码]

请提供：
- 问题列表
- 修复建议
- 优化后的代码
```

### 9.3 问题排查模板

```
我遇到了以下问题：
- 现象：[描述现象]
- 错误信息：[粘贴错误]
- 相关代码：[粘贴代码]
- 环境信息：[描述环境]

请帮我：
1. 分析问题原因
2. 提供解决方案
3. 提供修复代码
```

### 9.4 算法设计模板

```
我需要设计一个[算法名称]，用于[用途]。

输入：
- [输入1]：[描述]
- [输入2]：[描述]

输出：
- [输出1]：[描述]

约束条件：
- [约束1]
- [约束2]

请帮我：
1. 设计算法流程
2. 分析时间复杂度
3. 提供Python实现
4. 提供测试用例
```

---

## 十、注意事项

### 10.1 AI生成代码的局限性

1. **需要人工审查**：AI生成的代码可能有bug，必须测试
2. **需要理解逻辑**：不要盲目复制，要理解代码逻辑
3. **需要适配项目**：AI代码是通用模板，需要适配你的项目
4. **需要优化性能**：AI代码可能不是最优的，需要优化

### 10.2 安全考虑

1. **不要提交敏感信息**：API密钥、密码等不要给AI
2. **代码审查**：AI生成的代码可能有安全漏洞
3. **依赖检查**：检查AI建议的第三方库是否安全

### 10.3 团队协作

1. **代码规范统一**：使用AI生成代码后，要符合团队规范
2. **文档同步**：AI生成的代码要添加注释和文档
3. **知识分享**：将AI辅助开发的经验分享给队员

---

## 十一、推荐工具

### 11.1 代码生成
- **Cursor**：AI代码编辑器（推荐）
- **GitHub Copilot**：AI代码补全
- **Codeium**：免费AI代码助手

### 11.2 代码审查
- **CodeRabbit**：AI代码审查
- **DeepCode**：代码质量分析

### 11.3 文档生成
- **AI Doc Writer**：自动生成API文档
- **Scribe**：自动生成使用文档

---

## 十二、实战演练

### 任务：实现知识点切分算法（第3周任务）

**步骤1：需求分析（让AI帮助）**
```
我需要实现知识点切分算法，输入是视频的ASR文本和OCR文本，
输出是知识点列表。请帮我分析需求，设计算法流程。
```

**步骤2：代码实现（让AI生成）**
```
根据刚才的设计，请用Python实现知识点切分算法，使用
sentence-transformers计算语义相似度，jieba进行分词。
```

**步骤3：测试验证（让AI生成测试）**
```
请为这个算法编写单元测试，覆盖正常情况和边界情况。
```

**步骤4：代码审查（让AI审查）**
```
请审查这个代码，找出潜在问题和优化点。
```

**步骤5：集成到项目（让AI帮助）**
```
请帮我将这个算法集成到FastAPI后端，创建API接口。
```

---

## 总结

作为队长，你可以充分利用AI来：
1. ✅ **加速开发**：快速生成代码和文档
2. ✅ **解决难题**：技术攻关和问题排查
3. ✅ **提高质量**：代码审查和优化建议
4. ✅ **学习提升**：理解最佳实践和设计模式

**记住**：AI是工具，不是替代品。你要：
- 理解AI生成的代码
- 测试和验证
- 根据项目需求调整
- 持续学习和改进

---

**祝你开发顺利！** 🚀
