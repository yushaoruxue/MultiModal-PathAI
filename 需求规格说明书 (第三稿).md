# 1. 项目概述

## 1.1 背景与问题

职业教育学习者大量依赖教学视频自学，但普遍缺乏针对性反馈。学习过程中常见行为包括：暂停、回放、拖拽返回、长时间停留等，这些行为往往对应“知识点未掌握/理解困难”。传统教学难以实时捕捉并及时补偿，导致学习效率低、教师学情监测成本高。

## 1.2 项目目标

构建一个以AI为核心的闭环学习支持系统，能够：

1. 对教学视频进行多模态语义解析（视频/音频/文本），生成结构化知识表示；
2. 基于学习者观看行为识别疑难知识点；
3. 主动生成/推送补偿性学习资源，并动态调整学习路径，实现“一人一策”；
4. 为教师提供可视化学情线索，减少低效重复劳动。

## 1.3 项目边界（本期不做/暂缓）

- 不做泛娱乐平台视频理解与推荐；
- 不做完整LMS/教务系统替代，仅做“视频学习辅助闭环”；
- 不追求全学科通用，优先聚焦一个课程/一类视频形态跑通闭环；
- 不以“最强模型”作为指标，优先可用、可验证、可迭代。

------

# 2. 目标用户与使用场景

## 2.1 用户角色

- 学生（主要用户）：观看视频、接收补偿、完成练习、获得路径建议
- 教师/教研（次要用户）：查看共性难点、学情热力点、资源使用效果
- 项目管理员（可选）：课程/视频/资源维护，策略阈值配置

## 2.2 核心场景（用户故事）

1. 学生观看《数据库-SELECT查询》视频，在“多表连接”处反复回放；系统判定疑难点并弹出/侧边栏推送：5分钟精讲 + 3题诊断练习。
2. 学生完成练习表现良好；系统降低该知识点权重并跳过重复补偿，继续下一知识点。
3. 教师查看班级学情：发现多数学生在K3“多表连接”处高频回放；教师据此优化教学或补充讲解。

------

# 3. 总体方案与功能架构（闭环：感知-分析-干预）

## 3.1 模块A：视频多模态语义解析与知识建模

**目标**：把视频内容结构化到“知识点-时间段-关键词-资源”层面，为推荐提供内容基础。

### A1. 输入

- 教学视频文件/链接（优先：录屏+讲解/PPT）
- 可选：原始字幕、PPT文件、讲义文本

### A2. 处理与输出（需求）

1. **语音转写**：输出带时间戳的转写文本（ASR）

2. **文本抽取**：从字幕/PPT/画面中抽取关键术语（OCR可选）

3. 章节/知识点切分

   ：输出知识点列表K={K1..Kn}，每个知识点包含：

   - 名称（可自动生成+人工可编辑）
   - 起止时间段（start/end）
   - 关键词（top N）
   - 简要摘要（1-3句）

4. **知识关系（初版可弱化）**：至少支持“顺序关系”；进阶支持先修/依赖关系。

### A3. 验收标准（初版可测）

- 对选定课程样例视频，能生成不少于N个知识点切片（N由课程确定，如10-30）。
- 每个知识点均具备可回放定位的时间戳。
- 支持人工在管理端调整知识点边界与名称（保证可控性）。

------

## 3.2 模块B：学习行为采集与难点识别

**目标**：通过观看行为推断“可能不懂的知识点”。

### B1. 行为数据采集（MVP必须）

- 播放/暂停事件（时间戳）
- 拖拽进度条（from/to）
- 回放次数（某时间段重复进入）
- 停留时长（在某知识点区间停留总时长）
- 播放速度（可选）
- 退出/返回（可选）

### B2. 难点判定策略（初版要求“可解释”）

对每个知识点Ki计算困难度分数Di，至少支持规则策略（后续可替换为模型）：

- 回放次数 ≥ T1
- 暂停次数 ≥ T2
- 在该段停留时长/视频段时长 ≥ T3
  满足任一或组合触发“疑难点”。

### B3. 输出

- 学生-知识点掌握状态：{未学/学习中/疑难/已掌握}
- 疑难知识点列表及证据（触发原因：回放x次、停留y秒等）

### B4. 验收标准

- 能对单个学生一次观看记录生成“疑难知识点TopK”及触发原因。
- 教师端可查看班级层面的疑难分布（按知识点聚合）。

------

## 3.3 模块C：个性化学习路径生成与智能补偿

**目标**：识别疑难点后，系统主动推送补偿资源，并根据反馈动态调整。

### C1. 补偿资源类型（初版至少支持两类）

- 知识卡片：概念/公式/关键步骤（1屏可读）
- 诊断练习：选择/填空/判断/简答（至少3题，可自动生成+人工编辑）
  可选扩展：5分钟微视频精讲、例题讲解、知识图谱节点跳转。

### C2. 推送策略（MVP）

当知识点Ki被标记为疑难：

- 推送：知识卡片 + 诊断练习（默认组合）
- 若练习正确率 ≥ P1：标记“已掌握”，减少后续推送频率
- 若正确率 < P1：升级干预（例如追加例题/更细分子知识点）

### C3. 学习路径表示

对每个学生生成路径Path：

- 当前学习进度（到哪个知识点）
- 疑难点及补偿完成情况
- 下一步建议（继续看/先补偿/做练习/复习）

### C4. 验收标准

- 对触发疑难的知识点，系统能在界面中展示补偿入口，并记录学生完成情况。
- 学生完成练习后，系统会更新该知识点状态（疑难→已掌握/仍疑难）。

------

# 4. 产品形态与页面（MVP最小闭环）

## 4.1 学生端（至少三个页面/区域）

1. 视频播放页
   - 视频播放
   - 知识点目录（可点击跳转）
   - “本段可能需要补偿”提示（非强打断，建议侧边栏/浮层）
2. 补偿资源页/侧栏
   - 知识卡片
   - 诊断练习（提交与判分）
3. 学习路径/进度页
   - 已学/疑难/已掌握列表
   - 下一步建议

## 4.2 教师端（初版可简化为一个看板）

- 班级/群体疑难知识点排行
- 每个知识点的“回放热力/暂停热力”
- 补偿资源使用量与正确率概览

------

# 5. 数据与接口（初版数据模型草案）

## 5.1 核心实体

- Video(id, title, course_id, duration, url, metadata)
- KnowledgePoint(id, video_id, title, start_time, end_time, keywords, summary)
- User(id, role, class_id, profile)
- WatchEvent(id, user_id, video_id, ts, event_type, payload)
- Mastery(user_id, kp_id, status, difficulty_score, updated_at)
- Resource(id, kp_id, type, content, source, version)
- Exercise(id, kp_id, questions, answer_key, difficulty)
- ExerciseResult(user_id, exercise_id, score, detail, ts)

## 5.2 事件类型（建议）

- play, pause, seek, rate_change, ended, leave

------

# 6. 非功能性需求

- 可用性：视频播放与事件采集不应明显卡顿；
- 可解释性：疑难判定必须给出触发原因；
- 可控性：知识点切分与资源内容允许人工修订；
- 隐私：仅采集学习相关行为数据，不采集与课程无关信息；数据脱敏展示。

------

# 7. 里程碑与本周任务（建议）

## 7.1 本周（需求阶段）

- 选定一个具体课程/样例视频（1-3个）
- 明确知识点粒度（预计10-30个）
- 完成v0.1需求文档（本文件）
- 输出一张系统流程图（感知→分析→干预→反馈）

## 7.2 下周（MVP原型阶段）

- 产出低保真原型（Figma/墨刀/手绘均可）
- 定义疑难阈值T1/T2/T3与正确率阈值P1
- 准备最小补偿资源样例（3个知识点，每个：卡片+3题）

------

# 8. 风险与对策（初版）

1. **多模态解析效果不稳定** → 先用“ASR+字幕/PPT文本”为主，OCR/视觉作为增强；并提供人工编辑兜底。
2. **难点判定误报/漏报** → 初版用可解释规则+阈值可配置；后续迭代模型。
3. **补偿资源质量参差** → 初版允许人工审核/编辑；优先做“短小可用”。
4. **范围过大** → 固定课程、固定视频形态、固定资源类型，先闭环再扩展。

------

# 9. 附录：待确认问题清单（需团队讨论）

1. 首选课程与视频类型是什么？（数据库/电工/数控/编程等）
2. 知识点粒度以“概念/技能步骤/例题”为主？
3. 推送补偿是“自动弹出”还是“提示可点开”？（避免过度打扰）
4. 练习题自动生成是否需要教师审核？审核流程怎么设计？
5. 班级/个人数据展示口径与隐私边界如何定？