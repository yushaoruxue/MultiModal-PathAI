# 团队协作指南

## 📋 队长需要做的：邀请队员加入仓库

### 步骤1：在GitHub上邀请协作者

1. **访问仓库设置页面**：
   - 打开：https://github.com/yushaoruxue/MultiModal-PathAI
   - 点击顶部的 **`设置`**（Settings）标签

2. **进入协作者管理**：
   - 左侧菜单找到 **`访问`**（Access）或 **`协作者`**（Collaborators）
   - 点击 **`邀请协作者`**（Invite a collaborator）

3. **添加队员**：
   - 输入队员的GitHub用户名或邮箱
   - 选择权限级别：
     - **Write**（写入权限）- 推荐，允许推送代码
     - **Admin**（管理员权限）- 如果需要管理仓库设置
   - 点击 **`添加协作者`**

4. **队员确认邀请**：
   - 队员会收到邮件通知
   - 或在GitHub通知中看到邀请
   - 点击接受邀请

---

## 👥 队员需要做的：克隆仓库到本地

### 步骤1：确保Git已安装

```bash
# 检查Git版本
git --version
```

如果没有安装，访问：https://git-scm.com/ 下载安装

### 步骤2：配置Git用户信息（首次使用）

```bash
# 设置你的名字
git config --global user.name "你的名字"

# 设置你的邮箱（使用GitHub邮箱）
git config --global user.email "your.email@example.com"
```

### 步骤3：克隆仓库

**在你想存放项目的目录下执行**（比如 `E:\java\`）：

```bash
# 克隆仓库
git clone https://github.com/yushaoruxue/MultiModal-PathAI.git

# 进入项目目录
cd MultiModal-PathAI
```

### 步骤4：切换到develop分支

```bash
# 查看所有分支
git branch -a

# 切换到develop分支（开发分支）
git checkout develop
```

---

## 🔄 团队协作工作流程

### 日常开发流程

#### 1. 开始开发新功能

```bash
# 1. 确保在develop分支
git checkout develop

# 2. 拉取最新代码（重要！）
git pull origin develop

# 3. 创建功能分支（根据你的任务）
git checkout -b feature/功能名称

# 例如：
# git checkout -b feature/video-upload
# git checkout -b feature/knowledge-point-segmenter
```

#### 2. 开发代码

- 编辑文件、添加功能
- 定期保存

#### 3. 提交代码

```bash
# 1. 查看变更
git status

# 2. 添加文件
git add .

# 3. 提交（遵循提交信息规范）
git commit -m "feat(模块名): 功能描述"

# 例如：
# git commit -m "feat(algorithm): 实现知识点切分算法"
# git commit -m "fix(api): 修复视频列表分页错误"
```

#### 4. 推送到远程

```bash
# 推送功能分支到远程
git push -u origin feature/功能名称
```

#### 5. 创建Pull Request（PR）

1. **在GitHub上**：
   - 访问：https://github.com/yushaoruxue/MultiModal-PathAI
   - 点击 **`拉取请求`**（Pull requests）
   - 点击 **`新建拉取请求`**（New pull request）
   - 选择：
     - base: `develop`（目标分支）
     - compare: `feature/功能名称`（你的功能分支）
   - 填写PR描述
   - 点击 **`创建拉取请求`**

2. **等待代码审查**：
   - 队长或其他队员会审查代码
   - 根据反馈修改代码

3. **合并PR**：
   - 审查通过后，队长合并PR
   - 功能分支会合并到`develop`分支

#### 6. 清理本地分支（可选）

```bash
# 切换回develop分支
git checkout develop

# 拉取最新代码（包含你刚才合并的PR）
git pull origin develop

# 删除本地功能分支（已合并的）
git branch -d feature/功能名称
```

---

## 📝 提交信息规范（重要！）

所有提交必须遵循以下格式：

```
<type>(<scope>): <subject>

例如：
- feat(algorithm): 实现知识点切分算法
- fix(api): 修复视频列表分页错误
- docs(readme): 更新项目README
- refactor(database): 优化数据库查询性能
```

**类型（type）**：
- `feat`: 新功能
- `fix`: 修复bug
- `docs`: 文档更新
- `style`: 代码格式（不影响功能）
- `refactor`: 重构
- `test`: 测试相关
- `chore`: 构建/工具相关

**范围（scope）**（可选）：
- `algorithm`: AI算法模块
- `api`: API接口
- `frontend`: 前端
- `backend`: 后端
- `database`: 数据库

---

## 🚫 禁止的操作

1. **不要直接推送到main分支**
   - main分支是生产环境，只能通过PR合并

2. **不要直接推送到develop分支**
   - 所有代码都要通过功能分支和PR

3. **不要强制推送（force push）**
   - 除非你非常确定在做什么

4. **不要提交敏感信息**
   - 如API密钥、密码等
   - 使用`.env`文件，并确保在`.gitignore`中

---

## 🔍 常用命令速查

### 查看状态
```bash
# 查看当前状态
git status

# 查看提交历史
git log --oneline

# 查看所有分支
git branch -a
```

### 更新代码
```bash
# 拉取最新代码
git pull origin develop

# 查看远程更新（不拉取）
git fetch origin
```

### 切换分支
```bash
# 切换到已有分支
git checkout 分支名

# 创建并切换到新分支
git checkout -b 新分支名
```

### 撤销操作
```bash
# 撤销工作区的修改（未add）
git checkout -- 文件名

# 撤销暂存区的修改（已add，未commit）
git reset HEAD 文件名

# 撤销最后一次提交（保留修改）
git reset --soft HEAD~1
```

---

## 👨‍💻 各队员的分工

根据任务分配文档：

| 队员 | 主要工作 | 主要分支命名 |
|------|---------|------------|
| **成怡**（前端） | 前端开发 | `feature/frontend-*` |
| **杨雅娟**（后端） | 后端开发 | `feature/backend-*` |
| **张亚鹏**（AI引擎） | AI引擎集成 | `feature/ai-*` |
| **雷宇**（测试+文档） | 测试、文档 | `feature/test-*`, `docs/*` |
| **周东吴**（队长） | 核心算法、统筹 | `feature/algorithm-*` |

---

## 📞 遇到问题怎么办？

1. **代码冲突**：
   - 先拉取最新代码：`git pull origin develop`
   - 解决冲突后提交

2. **忘记拉取最新代码**：
   - 先拉取：`git pull origin develop`
   - 如果有冲突，解决后再推送

3. **提交错了**：
   - 如果还没推送：`git reset --soft HEAD~1`
   - 如果已推送：创建新的提交修复

4. **需要帮助**：
   - 在团队群里提问
   - 或创建GitHub Issue

---

## ✅ 检查清单

### 开始开发前
- [ ] 已接受GitHub邀请
- [ ] 已克隆仓库到本地
- [ ] 已切换到develop分支
- [ ] 已拉取最新代码

### 提交代码前
- [ ] 代码已测试
- [ ] 提交信息符合规范
- [ ] 没有提交敏感信息
- [ ] 没有提交临时文件

### 创建PR前
- [ ] 代码已推送到远程
- [ ] PR描述清晰
- [ ] 已关联相关Issue（如有）

---

**祝团队协作顺利！** 🚀
